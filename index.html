<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Badge Center by ringful</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Badge Center</h1>
        <h2>Gamify your mobile apps</h2>
        <a href="https://github.com/ringful/BadgeCenter" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Welcome to the Badge Center</h1>

<p>The Badge Center is an iOS SDK (Android coming soon) that allows you to easily incorporate "badges" in to your applications. Popularized by foursquare, farmville, and others, badges are powerful ways to encourage desired user behaviors in your app by turning your app itself into a "game".</p>

<p>Key benefits of the SDK include:</p>

<ul>
<li><p>Centralized location to define all badge related logic, including earning criteria, images, and text, for non-programmers.</p></li>
<li><p>Simple API call for the app to report user activities for earning badges.</p></li>
<li><p>Automatically keep track and manage the user's badge status.</p></li>
<li><p>Notifying the hosting app badge status changes (e.g., earning a new badge).</p></li>
<li><p>Ready-to-use and easy-to-extend view controllers to display and interact with badges.</p></li>
<li><p>Built-in support for sharing badges.</p></li>
<li><p>Ready-to-use library of badge images.</p></li>
</ul><h3>Getting Started</h3>

<p>Drag the <code>libBadgeKit.a</code> file into the Frameworks section of your XCode project. And make sure that it is included in your product targets.</p>

<p>Drag <code>BadgeKit.h</code> header file into the source section of your XCode project.</p>

<p>Create a <code>BCBadgeDefinition.plist</code> file to define all badge images, text, and award criteria. An example of this file is given in the next section. For now, just remember that each badge has a "metric" property associated with it. Once the metric property reaches certain value, a new level of the badge will be awarded to the user. For instance, the metric <code>officialuser</code> might refer to the number of times the user opens the app. The user could get an "silver level official user" badge once it reaches 5.</p>

<p>Initialize the <code>BCBadgeManager</code> object in your application delegate.</p>

<div class="highlight"><pre><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> 
              <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">manager</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BCBadgeManager</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
    <span class="p">...</span> <span class="p">...</span>
<span class="p">}</span>
</pre></div>

<p>Throughout your application, you can make a simple API call to report activities tracked by badges. The badges are represented here by its metric name.</p>

<div class="highlight"><pre><span class="p">[[</span><span class="n">BCBadgeManager</span> <span class="n">sharedManager</span><span class="p">]</span> <span class="nl">incrementMetric:</span><span class="s">@"officialuser"</span> <span class="nl">by:</span><span class="mi">1</span><span class="p">];</span>
</pre></div>

<p>Display the badges in a built-in view controller. You can get the view controller as follows, and then you can present it from your current view controller.</p>

<div class="highlight"><pre><span class="n">UIViewController</span><span class="o">*</span> <span class="n">badgeView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BCBadgeManager</span> <span class="n">sharedManager</span><span class="p">]</span> <span class="n">badgeViewController</span><span class="p">];</span>    
<span class="p">[</span><span class="n">self</span> <span class="nl">presentModalViewController:</span><span class="n">badgeView</span> <span class="nl">animated:</span><span class="n">YES</span><span class="p">];</span>
</pre></div>

<h3>Define your badges</h3>

<p>Here is an example of <code>BCBadgeDefinition.plist</code> file. It defines two badges.</p>

<ul>
<li><p>The <code>officialuser</code> badge is tracked by the <code>officialuser</code> metric. When the metric has value between 0 to 4, the image officialuser-1.png is display for the badge; when the metric value is from 5 to 24, the officialuser-2.png is display for the badge; etc. The messages correspond to the messages to display when the user taps on the badge or shares the badge.</p></li>
<li><p>The <code>7daystretch</code> badge is tracked by the <code>daysused</code> metric. When the metric has value between 0 to 6, the image 7daystretch-1.png is display for the badge; when the metric value is from 7 to 13, the 7daystretch-2.png is display for the badge; etc. The messages correspond to the messages to display when the user taps on the badge or shares the badge.</p></li>
</ul><div class="highlight"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>metrics<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;array&gt;</span>
    <span class="nt">&lt;string&gt;</span>officialuser<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;string&gt;</span>daysused<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;/array&gt;</span>

  <span class="nt">&lt;key&gt;</span>badges<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;array&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
      <span class="nt">&lt;key&gt;</span>levels<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;array&gt;</span>
        <span class="nt">&lt;integer&gt;</span>0<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>5<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>25<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>50<span class="nt">&lt;/integer&gt;</span>
      <span class="nt">&lt;/array&gt;</span>
      <span class="nt">&lt;key&gt;</span>messages<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;array&gt;</span>
        <span class="nt">&lt;string&gt;</span>Please open the app at least 5 times to earn this badge!<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a silver level badge for Official User!<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a gold level badge for Official User!<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a diamond level badge for Official User!<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;/array&gt;</span>
      <span class="nt">&lt;key&gt;</span>id<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>officialuser<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>Official User<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;key&gt;</span>metric<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>officialuser<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>

    <span class="nt">&lt;dict&gt;</span>
      <span class="nt">&lt;key&gt;</span>levels<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;array&gt;</span>
        <span class="nt">&lt;integer&gt;</span>0<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>7<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>14<span class="nt">&lt;/integer&gt;</span>
        <span class="nt">&lt;integer&gt;</span>21<span class="nt">&lt;/integer&gt;</span>
      <span class="nt">&lt;/array&gt;</span>
      <span class="nt">&lt;key&gt;</span>messages<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;array&gt;</span>
        <span class="nt">&lt;string&gt;</span>Please use the app at least once a day for 7 days in a row to earn this badge.<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a badge for using the app 7 days in a row!<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a badge for using the app 14 days in a row!<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;string&gt;</span>a badge for using the app 21 days in a row!<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;/array&gt;</span>
      <span class="nt">&lt;key&gt;</span>id<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>7daystretch<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>7 Day Stretch<span class="nt">&lt;/string&gt;</span>
      <span class="nt">&lt;key&gt;</span>metric<span class="nt">&lt;/key&gt;</span>
      <span class="nt">&lt;string&gt;</span>daysused<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
  <span class="nt">&lt;/array&gt;</span>

  <span class="nt">&lt;key&gt;</span>background<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;string&gt;</span>metal-2.jpg<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</pre></div>

<h3>Receive notifications</h3>

<p>The SDK emits two notifications for the hosting app to process.</p>

<p>The <code>kBCNotificationMetricChanged</code> is sent whenever a badge metric is changed. The userInfo of this notification contains the metric name and value.</p>

<div class="highlight"><pre><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">metricChanged:</span><span class="p">(</span><span class="n">NSNotification</span><span class="o">*</span><span class="p">)</span> <span class="n">notification</span> <span class="p">{</span>
    <span class="n">NSDictionary</span><span class="o">*</span> <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">notification</span> <span class="n">userInfo</span><span class="p">];</span>
    <span class="n">NSString</span><span class="o">*</span> <span class="n">metricName</span> <span class="o">=</span> <span class="p">[</span><span class="n">info</span> <span class="nl">objectForKey:</span><span class="s">@"metric"</span><span class="p">];</span>
    <span class="n">NSNumber</span><span class="o">*</span> <span class="n">value</span>      <span class="o">=</span> <span class="p">[</span><span class="n">info</span> <span class="nl">objectForKey:</span><span class="s">@"value"</span><span class="p">];</span>

    <span class="p">...</span> <span class="p">...</span>
<span class="p">}</span>
</pre></div>

<p>The <code>kBCNotificationLevelUp</code> is sent whenever a new badge level is reached. The userInfo of the notification contains the badge itself.</p>

<div class="highlight"><pre><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">levelUp:</span><span class="p">(</span><span class="n">NSNotification</span><span class="o">*</span><span class="p">)</span> <span class="n">notification</span><span class="p">{</span>
    <span class="n">NSDictionary</span><span class="o">*</span> <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">notification</span> <span class="n">userInfo</span><span class="p">];</span>    
    <span class="n">BCBadge</span><span class="o">*</span> <span class="n">badge</span> <span class="o">=</span> <span class="p">[</span><span class="n">info</span> <span class="nl">objectForKey:</span><span class="s">@"badge"</span><span class="p">];</span>
    <span class="p">...</span> <span class="p">...</span>
<span class="p">}</span>
</pre></div>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/ringful/BadgeCenter/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/ringful/BadgeCenter/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/ringful/BadgeCenter"></a> is maintained by <a href="https://github.com/ringful">ringful</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>